(function(b,a){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b.document?a(b,true):function(c){if(!c.document){throw new Error("Avalon requires a window with a document")}return a(c)}}else{a(b)}}(typeof window!=="undefined"?window:this,function(bZ,aX){var aF=new Date()-0;var cs=bZ.document;var a=cs.getElementsByTagName("head")[0];var aA=a.insertBefore(document.createElement("avalon"),a.firstChild);aA.innerHTML="X<style id='avalonStyle'>.avalonHide{ display: none!important }</style>";aA.setAttribute("ms-skip","1");aA.className="avalonHide";var am=/\[native code\]/;function cj(){if(bZ.console&&avalon.config.debug){Function.apply.call(console.log,console,arguments)}}var cB="$"+aF;var an=bZ.require;var al=bZ.define;var r;var K=false;var bL=/[^, ]+/g;var B=/^(?:object|array)$/;var at=/^\[object SVG\w*Element\]$/;var H=/^\[object (?:Window|DOMWindow|global)\]$/;var bo=Object.prototype;var b3=bo.hasOwnProperty;var cu=bo.toString;var cJ=Array.prototype;var Y=cJ.slice;var bQ={};var aN=bZ.dispatchEvent;var cV=cs.documentElement;var b8=cs.createDocumentFragment();var c7=cs.createElement("div");var aE={};"Boolean Number String Function Array Date RegExp Object Error".replace(bL,function(e){aE["[object "+e+"]"]=e.toLowerCase()});function aw(dj,ap,e,dk){if(bZ.$){$(dj).bind(ap,e)}else{if(dj.addEventListener){dj.addEventListener(ap,e,dk)}else{dj.attachEvent("on"+ap,e)}}}function c(dj,ap,e,dk){if(bZ.$){$(dj).unbind(ap,e)}else{if(dj.removeEventListener){dj.removeEventListener(ap,e,dk)}else{dj.detachEvent("on"+ap,e)}}}function l(){}function da(dm,dk){if(typeof dm==="string"){dm=dm.match(bL)||[]}var e={},dj=dk!==void 0?dk:1;for(var ap=0,dl=dm.length;ap<dl;ap++){e[dm[ap]]=dj}return e}var bz=function(e){e=e||"avalon";return String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)};function cY(){if(bZ.VBArray){var e=document.documentMode;return e?e:bZ.XMLHttpRequest?7:6}else{return NaN}}var bU=cY();avalon=function(e){return new avalon.init(e)};avalon.profile=function(){if(bZ.console&&avalon.config.profile){Function.apply.call(console.log,console,arguments)}};avalon.nextTick=new function(){var dj=bZ.setImmediate;var ap=bZ.MutationObserver;var dl=aN&&bZ.postMessage;if(dj){return dj.bind(bZ)}var e=[];function dm(){var dp=e.length;for(var dn=0;dn<dp;dn++){e[dn]()}e=e.slice(dp)}if(ap){var dk=document.createTextNode("avalon");new ap(dm).observe(dk,{characterData:true});return function(dn){e.push(dn);dk.data=Math.random()}}if(dl){bZ.addEventListener("message",function(dp){var dn=dp.source;if((dn===bZ||dn===null)&&dp.data==="process-tick"){dp.stopPropagation();dm()}});return function(dn){e.push(dn);bZ.postMessage("process-tick","*")}}return function(dn){setTimeout(dn,0)}};avalon.init=function(e){this[0]=this.element=e};avalon.fn=avalon.prototype=avalon.init.prototype;avalon.type=function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?aE[cu.call(e)]||"object":typeof e};var E=typeof alert==="object"?function(ap){try{return/^\s*\bfunction\b/.test(ap+"")}catch(dj){return false}}:function(e){return cu.call(e)==="[object Function]"};avalon.isFunction=E;avalon.isWindow=function(e){if(!e){return false}return e==e.document&&e.document!=e};function a6(e){return H.test(cu.call(e))}if(a6(bZ)){avalon.isWindow=a6}var aG;for(aG in avalon({})){break}var dg=aG!=="0";avalon.isPlainObject=function(dk,ap){if(!dk||avalon.type(dk)!=="object"||dk.nodeType||avalon.isWindow(dk)){return false}try{if(dk.constructor&&!b3.call(dk,"constructor")&&!b3.call(dk.constructor.prototype,"isPrototypeOf")){return false}}catch(dj){return false}if(dg){for(ap in dk){return b3.call(dk,ap)}}for(ap in dk){}return ap===void 0||b3.call(dk,ap)};if(am.test(Object.getPrototypeOf)){avalon.isPlainObject=function(e){return cu.call(e)==="[object Object]"&&Object.getPrototypeOf(e)===bo}}avalon.mix=avalon.fn.mix=function(){var dt,dk,ap,dj,dq,dr,dp=arguments[0]||{},dm=1,dl=arguments.length,ds=false;if(typeof dp==="boolean"){ds=dp;dp=arguments[1]||{};dm++}if(typeof dp!=="object"&&!E(dp)){dp={}}if(dm===dl){dp=this;dm--}for(;dm<dl;dm++){if((dt=arguments[dm])!=null){for(dk in dt){ap=dp[dk];try{dj=dt[dk]}catch(dn){continue}if(dp===dj){continue}if(ds&&dj&&(avalon.isPlainObject(dj)||(dq=Array.isArray(dj)))){if(dq){dq=false;dr=ap&&Array.isArray(ap)?ap:[]}else{dr=ap&&avalon.isPlainObject(ap)?ap:{}}dp[dk]=avalon.mix(ds,dr,dj)}else{if(dj!==void 0){dp[dk]=dj}}}}}return dp};function a9(ap,e){ap=Math.floor(ap)||0;return ap<0?Math.max(e+ap,0):Math.min(ap,e)}avalon.mix({rword:bL,subscribers:cB,version:1.45,ui:{},log:cj,slice:aN?function(ap,dj,e){return Y.call(ap,dj,e)}:function(dj,dm,ap){var dk=[];var e=dj.length;if(ap===void 0){ap=e}if(typeof ap==="number"&&isFinite(ap)){dm=a9(dm,e);ap=a9(ap,e);for(var dl=dm;dl<ap;++dl){dk[dl-dm]=dj[dl]}}return dk},noop:l,error:function(dj,ap){throw (ap||Error)(dj)},oneObject:da,range:function(dm,ap,dl){dl||(dl=1);if(ap==null){ap=dm||0;dm=0}var dj=-1,dk=Math.max(0,Math.ceil((ap-dm)/dl)),e=new Array(dk);while(++dj<dk){e[dj]=dm;dm+=dl}return e},eventHooks:[],bind:function(dl,dk,dj,ap){var e=avalon.eventHooks;var dm=e[dk];if(typeof dm==="object"){dk=dm.type;if(dm.deel){dj=dm.deel(dl,dk,dj,ap)}}var dn=aN?dj:function(dp){dj.call(dl,cf(dp))};aw(dl,dk,dn,!!ap);return dn},unbind:function(dl,dk,dj,ap){var e=avalon.eventHooks;var dm=e[dk];var dn=dj||l;if(typeof dm==="object"){dk=dm.type;if(dm.deel){dj=dm.deel(dl,dk,dj,false)}}c(dl,dk,dn,!!ap)},css:function(dj,e,dk){if(dj instanceof avalon){dj=dj[0]}var dm=/[_-]/.test(e)?m(e):e,ap;e=avalon.cssName(dm)||dm;if(dk===void 0||typeof dk==="boolean"){ap=x[dm+":get"]||x["@:get"];if(e==="background"){e="backgroundColor"}var dl=ap(dj,e);return dk===true?parseFloat(dl)||0:dl}else{if(dk===""){dj.style[e]=""}else{if(dk==null||dk!==dk){return}if(isFinite(dk)&&!avalon.cssNumber[dm]){dk+="px"}ap=x[dm+":set"]||x["@:set"];ap(dj,e,dk)}}},each:function(dj,ap){if(dj){var e=0;if(aT(dj)){for(var dk=dj.length;e<dk;e++){if(ap(e,dj[e])===false){break}}}else{for(e in dj){if(dj.hasOwnProperty(e)&&ap(e,dj[e])===false){break}}}}},getWidgetData:function(dk,dl){var ap=avalon(dk).data();var e={};for(var dj in ap){if(dj.indexOf(dl)===0){e[dj.replace(dl,"").replace(/\w/,function(dm){return dm.toLowerCase()})]=ap[dj]}}return e},Array:{ensure:function(ap,e){if(ap.indexOf(e)===-1){return ap.push(e)}},removeAt:function(ap,e){return !!ap.splice(e,1).length},remove:function(dj,ap){var e=dj.indexOf(ap);if(~e){return avalon.Array.removeAt(dj,e)}return false}}});var c9=avalon.bindingHandlers={};var aj=avalon.bindingExecutors={};function aT(dk){if(!dk){return false}var dl=dk.length;if(dl===(dl>>>0)){var ap=cu.call(dk).slice(8,-1);if(/(?:regexp|string|function|window|global)$/i.test(ap)){return false}if(ap==="Array"){return true}try{if({}.propertyIsEnumerable.call(dk,"length")===false){return/^\s?function/.test(dk.item||dk.callee)}return true}catch(dj){return !dk.window}}return false}var h=new function(){function e(dj){this.size=0;this.limit=dj;this.head=this.tail=void 0;this._keymap={}}var ap=e.prototype;ap.put=function(dj,dl){var dk={key:dj,value:dl};this._keymap[dj]=dk;if(this.tail){this.tail.newer=dk;dk.older=this.tail}else{this.head=dk}this.tail=dk;if(this.size===this.limit){this.shift()}else{this.size++}return dl};ap.shift=function(){var dj=this.head;if(dj){this.head=this.head.newer;this.head.older=dj.newer=dj.older=this._keymap[dj.key]=void 0}};ap.get=function(dj){var dk=this._keymap[dj];if(dk===void 0){return}if(dk===this.tail){return dk.value}if(dk.newer){if(dk===this.head){this.head=dk.newer}dk.newer.older=dk.older}if(dk.older){dk.older.newer=dk.newer}dk.newer=void 0;dk.older=this.tail;if(this.tail){this.tail.newer=dk}this.tail=dk;return dk.value};return e};if(!"司徒正美".trim){var P=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(P,"")}}var di=!({toString:null}).propertyIsEnumerable("toString"),bh=(function(){}).propertyIsEnumerable("prototype"),C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],av=C.length;if(!Object.keys){Object.keys=function(dj){var dl=[];var dq=bh&&typeof dj==="function";if(typeof dj==="string"||(dj&&dj.callee)){for(var dn=0;dn<dj.length;++dn){dl.push(String(dn))}}else{for(var e in dj){if(!(dq&&e==="prototype")&&b3.call(dj,e)){dl.push(String(e))}}}if(di){var dp=dj.constructor,ap=dp&&dp.prototype===dj;for(var dm=0;dm<av;dm++){var dk=C[dm];if(!(ap&&dk==="constructor")&&b3.call(dj,dk)){dl.push(dk)}}}return dl}}if(!Array.isArray){Array.isArray=function(e){return cu.call(e)==="[object Array]"}}if(!l.bind){Function.prototype.bind=function(dj){if(arguments.length<2&&dj===void 0){return this}var ap=this,e=arguments;return function(){var dk=[],dl;for(dl=1;dl<e.length;dl++){dk.push(e[dl])}for(dl=0;dl<arguments.length;dl++){dk.push(arguments[dl])}return ap.apply(dj,dk)}}}function bt(dk,e,dj){var ap="for(var "+dk+"i=0,n = this.length; i < n; i++){"+e.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+dj;return Function("fn,scope",ap)}if(!am.test([].map)){avalon.mix(cJ,{indexOf:function(dj,e){var dk=this.length,ap=~~e;if(ap<0){ap+=dk}for(;ap<dk;ap++){if(this[ap]===dj){return ap}}return -1},lastIndexOf:function(dj,e){var dk=this.length,ap=e==null?dk-1:e;if(ap<0){ap=Math.max(0,dk+ap)}for(;ap>=0;ap--){if(this[ap]===dj){return ap}}return -1},forEach:bt("","_",""),filter:bt("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:bt("r=[],","r[i]=_","return r"),some:bt("","if(_)return true","return false"),every:bt("","if(!_)return false","return true")})}function v(ap,dj){try{while((dj=dj.parentNode)){if(dj===ap){return true}}return false}catch(dk){return false}}avalon.contains=v;if(!cs.contains){cs.contains=function(e){return v(cs,e)}}function s(){return new XMLSerializer().serializeToString(this)}if(bZ.SVGElement){if(!cs.createTextNode("x").contains){Node.prototype.contains=function(e){return !!(this.compareDocumentPosition(e)&16)}}var ba="http://www.w3.org/2000/svg";var bH=cs.createElementNS(ba,"svg");bH.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />';if(!at.test(bH.firstChild)){function bT(dl,dm){if(dl&&dl.childNodes){var ap=dl.childNodes;for(var dj=0,dk;dk=ap[dj++];){if(dk.tagName){var e=cs.createElementNS(ba,dk.tagName.toLowerCase());cJ.forEach.call(dk.attributes,function(dn){e.setAttribute(dn.name,dn.value)});bT(dk,e);dm.appendChild(e)}}}}Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:true,configurable:true,get:s,set:function(ap){var e=this.tagName.toLowerCase(),dj=this.parentNode,dl=avalon.parseHTML(ap);if(e==="svg"){dj.insertBefore(dl,this)}else{var dk=cs.createDocumentFragment();bT(dl,dk);dj.insertBefore(dk,this)}dj.removeChild(this)}},innerHTML:{enumerable:true,configurable:true,get:function(){var ap=this.outerHTML;var e=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i");var dj=new RegExp("</"+this.nodeName+">$","i");return ap.replace(e,"").replace(dj,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var ap=avalon.parseHTML(e);bT(ap,this)}}}})}}if(!cV.outerHTML&&bZ.HTMLElement){HTMLElement.prototype.__defineGetter__("outerHTML",s)}var cQ=/^(?:mouse|contextmenu|drag)|click/;function cf(dk){var e={};for(var ap in dk){e[ap]=dk[ap]}var dm=e.target=dk.srcElement;if(dk.type.indexOf("key")===0){e.which=dk.charCode!=null?dk.charCode:dk.keyCode}else{if(cQ.test(dk.type)){var dl=dm.ownerDocument||cs;var dj=dl.compatMode==="BackCompat"?dl.body:dl.documentElement;e.pageX=dk.clientX+(dj.scrollLeft>>0)-(dj.clientLeft>>0);e.pageY=dk.clientY+(dj.scrollTop>>0)-(dj.clientTop>>0);e.wheelDeltaY=e.wheelDelta;e.wheelDeltaX=0}}e.timeStamp=new Date()-0;e.originalEvent=dk;e.preventDefault=function(){dk.returnValue=false};e.stopPropagation=function(){dk.cancelBubble=true};return e}var bp=avalon.eventHooks;if(!("onmouseenter" in cV)){avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(ap,e){bp[ap]={type:e,deel:function(dl,dj,dk){return function(dn){var dm=dn.relatedTarget;if(!dm||(dm!==dl&&!(dl.compareDocumentPosition(dm)&16))){delete dn.type;dn.type=ap;return dk.call(dl,dn)}}}}})}avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(e,ap){if(bZ[e]&&!bp.animationend){bp.animationend={type:ap}}});if(!("oninput" in cs.createElement("input"))){bp.input={type:"propertychange",deel:function(dj,e,ap){return function(dk){if(dk.propertyName==="value"){dk.type="input";return ap.call(dj,dk)}}}}}if(cs.onmousewheel===void 0){var b7=cs.onwheel!==void 0?"wheel":"DOMMouseScroll";var bn=b7==="wheel"?"deltaY":"detail";bp.mousewheel={type:b7,deel:function(dj,e,ap){return function(dk){dk.wheelDeltaY=dk.wheelDelta=dk[bn]>0?-120:120;dk.wheelDeltaX=0;if(Object.defineProperty){Object.defineProperty(dk,"type",{value:"mousewheel"})}ap.call(dj,dk)}}}}function au(e){for(var ap in e){if(!b3.call(e,ap)){continue}var dj=e[ap];if(typeof au.plugins[ap]==="function"){au.plugins[ap](dj)}else{if(typeof au[ap]==="object"){avalon.mix(au[ap],dj)}else{au[ap]=dj}}}return this}var cw,bi,ak,aI,a3,aa=/[-.*+?^${}()|[\]\/\\]/g;function b2(e){return(e+"").replace(aa,"\\$&")}var df={loader:function(ap){var e=r&&ap;bZ.require=e?r:an;bZ.define=e?r.define:al},interpolate:function(dk){cw=dk[0];bi=dk[1];if(cw===bi){throw new SyntaxError("openTag!==closeTag");var dj=cw+"test"+bi;c7.innerHTML=dj;if(c7.innerHTML!==dj&&c7.innerHTML.indexOf("&lt;")>-1){throw new SyntaxError("此定界符不合法")}c7.innerHTML=""}var e=b2(cw),ap=b2(bi);ak=new RegExp(e+"(.*?)"+ap);aI=new RegExp(e+"(.*?)"+ap,"g");a3=new RegExp(e+".*?"+ap+"|\\sms-")}};au.debug=true;au.plugins=df;au.plugins.interpolate(["{{","}}"]);au.paths={};au.shim={};au.maxRepeatSize=100;avalon.config=au;var c0=/(\w+)\[(avalonctrl)="(\S+)"\]/;var ch=cs.querySelectorAll?function(e){return cs.querySelectorAll(e)}:function(dm){var ap=dm.match(c0);var dl=cs.getElementsByTagName(ap[1]);var e=[];for(var dj=0,dk;dk=dl[dj++];){if(dk.getAttribute(ap[2])===ap[3]){e.push(dk)}}return e};var cE={$watch:function(e,dj){if(typeof dj==="function"){var ap=this.$events[e];if(ap){ap.push(dj)}else{this.$events[e]=[dj]}}else{this.$events=this.$watch.backup}return this},$unwatch:function(ap,dl){var dk=arguments.length;if(dk===0){this.$watch.backup=this.$events;this.$events={}}else{if(dk===1){this.$events[ap]=[]}else{var dj=this.$events[ap]||[];var e=dj.length;while(~--e<0){if(dj[e]===dl){return dj.splice(e,1)}}}}return this},$fire:function(dr){var dp,dj,dt,du;if(/^(\w+)!(\S+)$/.test(dr)){dp=RegExp.$1;dr=RegExp.$2}var dv=this.$events;if(!dv){return}var dq=Y.call(arguments,1);var dk=[dr].concat(dq);if(dp==="all"){for(dj in avalon.vmodels){dt=avalon.vmodels[dj];if(dt!==this){dt.$fire.apply(dt,dk)}}}else{if(dp==="up"||dp==="down"){var e=dv.expr?ch(dv.expr):[];if(e.length===0){return}for(dj in avalon.vmodels){dt=avalon.vmodels[dj];if(dt!==this){if(dt.$events.expr){var dl=ch(dt.$events.expr);if(dl.length===0){continue}cJ.forEach.call(dl,function(dw){cJ.forEach.call(e,function(dy){var dx=dp==="down"?dy.contains(dw):dw.contains(dy);if(dx){dw._avalon=dt}})})}}}var ap=cs.getElementsByTagName("*");var dn=[];cJ.forEach.call(ap,function(dw){if(dw._avalon){dn.push(dw._avalon);dw._avalon="";dw.removeAttribute("_avalon")}});if(dp==="up"){dn.reverse()}for(dj=0;du=dn[dj++];){if(du.$fire.apply(du,dk)===false){break}}}else{var dm=dv[dr]||[];var ds=dv.$all||[];for(dj=0;du=dm[dj++];){if(E(du)){du.apply(this,dq)}}for(dj=0;du=ds[dj++];){if(E(du)){du.apply(this,arguments)}}}}}};var cT=avalon.vmodels={};avalon.define=function(dl,e){var dk=dl.$id||dl;if(!dk){cj("warning: vm必须指定$id")}if(cT[dk]){cj("warning: "+dk+" 已经存在于avalon.vmodels中")}if(typeof dl==="object"){var ap=cd(dl)}else{var dj={$watch:l};e(dj);ap=cd(dj);K=true;e(ap);K=false}ap.$id=dk;return cT[dk]=ap};var bV=String("$id,$watch,$unwatch,$fire,$events,$model,$skipArray,$proxy,$reinitialize,$propertyNames").match(bL);var cx=Object.defineProperty;var bl=true;try{cx({},"_",{value:"x"});var u=Object.defineProperties}catch(b9){bl=false}function cd(e,dj,dn){if(Array.isArray(e)){var dq=e.concat();e.length=0;var dr=ae(e);dr.pushArray(dq);return dr}if(!e||e.nodeType>0||(e.$id&&e.$events)){return e}var dv=Array.isArray(e.$skipArray)?e.$skipArray:[];dv.$special=dj||{};var dk={};dn=dn||{};var ds={};var dp={};var dl=[];bV.forEach(function(dw){delete e[dw]});var dt=Object.keys(e);dt.forEach(function(dx,dw){var dy=e[dx];dn[dx]=dy;if(cz(dx,dy,dv)){ds[dx]=[];var dz=avalon.type(dy);if(dz==="object"&&E(dy.get)&&Object.keys(dy).length<=2){dw=cv(dx,dy);dl.push(dw)}else{if(B.test(dz)){dw=J(dx,dy,dz,ds[dx])}else{dw=cm(dx,dy)}}dp[dx]=dw}});dk=u(dk,R(dp),e);for(var dm=0;dm<dt.length;dm++){var ap=dt[dm];if(!dp[ap]){dk[ap]=e[ap]}}dk.$propertyNames=dt.sort().join("&shy;");dk.$id=bz();dk.$model=dn;dk.$events=ds;for(dm in cE){var du=cE[dm];if(!aN){du=du.bind(dk)}dk[dm]=du}if(bl){Object.defineProperty(dk,"hasOwnProperty",n)}else{dk.hasOwnProperty=function(dw){return dw in dk.$model}}dk.$reinitialize=function(){dl.forEach(function(dw){delete dw._value;delete dw.oldArgs;dw.digest=function(){dw.call(dk)};cn.begin({callback:function(dz,dy){var dx=dy._name;if(dy!==dw){var dA=dz.$events[dx];ag(dA,dw.digest)}}});try{dw.get.call(dk)}finally{cn.end()}})};dk.$reinitialize();return dk}var n={value:function(e){return e in this.$model},writable:false,enumerable:false,configurable:true};function cm(ap,dj){function e(dl){var dk=e._value;if(arguments.length>0){if(!K&&!bJ(dl,dk)){e.updateValue(this,dl);e.notify(this,dl,dk)}return this}else{cn.collectDependency(this,e);return dk}}ct(e,ap);e._value=dj;return e}function cv(dj,ap){function e(dn){var dk=e._value;var dp=("_value" in e);if(arguments.length>0){if(K){return this}if(typeof e.set==="function"){if(e.oldArgs!==dn){e.oldArgs=dn;var dm=this.$events;var dl=dm[dj];dm[dj]=[];e.set.call(this,dn);dm[dj]=dl;dn=e.get.call(this);if(dn!==dk){e.updateValue(this,dn);e.notify(this,dn,dk)}}}return this}else{dn=e.get.call(this);e.updateValue(this,dn);if(dp&&dk!==dn){e.notify(this,dn,dk)}return dn}}e.set=ap.set;e.get=ap.get;ct(e,dj);return e}function J(dj,dk,dm,dl){function e(dB){var dn=e._value;var dx=e._vmodel;if(arguments.length>0){if(K){return this}if(dm==="array"){var dA=dx,dz=dB,du=dA.length,dp=dz.length;dA.$lock=true;if(du>dp){dA.splice(dp,du-dp)}else{if(dp>du){dA.push.apply(dA,dz.slice(du))}}var dq=Math.min(du,dp);for(var dt=0;dt<dq;dt++){dA.set(dt,dz[dt])}delete dA.$lock;dA._fire("set")}else{if(dm==="object"){var ds=Object.keys(dB).sort().join("&shy;");if(dx.$propertyNames===ds){for(dt in dB){dx[dt]=dB[dt]}}else{if(aN){var dA=e._vmodel=cd(dB);dA.$events=dx.$events}else{var dw=dx.$proxy;dx=e._vmodel=cd(dB);var dv=dx.$events[cB]=this.$events[dj]||[];var dr=dv.concat();dv.length=0;dx.$proxy=dw;while(dA=dr.shift()){var dy=c9[dA.type];if(dy){dA.rollback&&dA.rollback();dy(dA,dA.vmodels)}}}}}}e.updateValue(this,dx.$model);e.notify(this,this._value,dn);return this}else{cn.collectDependency(this,e);return dx}}ct(e,dj);var ap=e._vmodel=cd(dk);ap.$events[cB]=dl;return e}function dc(ap,e){ap.$model[this._name]=this._value=e}function cI(dk,dj,ap){var e=this._name;var dl=dk.$events[e];if(dl){cR(dl);cE.$fire.call(dk,e,dj,ap)}}function ct(e,ap){e._name=ap;e.updateValue=dc;e.notify=cI}var bJ=Object.is||function(ap,e){if(ap===0&&e===0){return 1/ap===1/e}else{if(ap!==ap){return e!==e}else{return ap===e}}};function cz(dj,dk,ap){if(E(dk)||dk&&dk.nodeType){return false}if(ap.indexOf(dj)!==-1){return false}var e=ap.$special;if(dj&&dj.charAt(0)==="$"&&!e[dj]){return false}return true}var R=aN?function(dj){var ap={};for(var e in dj){ap[e]={get:dj[e],set:dj[e],enumerable:true,configurable:true}}return ap}:function(e){return e};if(!bl){if("__defineGetter__" in avalon){cx=function(e,dj,ap){if("value" in ap){e[dj]=ap.value}if("get" in ap){e.__defineGetter__(dj,ap.get)}if("set" in ap){e.__defineSetter__(dj,ap.set)}return e};u=function(ap,e){for(var dj in e){if(e.hasOwnProperty(dj)){cx(ap,dj,e[dj])}}return ap}}if(bU){var G={};bZ.execScript(["Function parseVB(code)","\tExecuteGlobal(code)","End Function"].join("\n"),"VBScript");function cc(ap,dk,dj,dl){var e=dk[dj];if(arguments.length===4){e.call(ap,dl)}else{return e.call(ap)}}u=function(dl,dk,dm){var ap=[];ap.push("\r\n\tPrivate [__data__], [__proxy__]","\tPublic Default Function [__const__](d, p)","\t\tSet [__data__] = d: set [__proxy__] = p","\t\tSet [__const__] = Me","\tEnd Function");for(dl in dm){if(!dk.hasOwnProperty(dl)){ap.push("\tPublic ["+dl+"]")}}bV.forEach(function(dp){if(!dk.hasOwnProperty(dp)){ap.push("\tPublic ["+dp+"]")}});ap.push("\tPublic [hasOwnProperty]");for(dl in dk){ap.push("\tPublic Property Let ["+dl+"](val"+aF+")",'\t\tCall [__proxy__](Me,[__data__], "'+dl+'", val'+aF+")","\tEnd Property","\tPublic Property Set ["+dl+"](val"+aF+")",'\t\tCall [__proxy__](Me,[__data__], "'+dl+'", val'+aF+")","\tEnd Property","\tPublic Property Get ["+dl+"]","\tOn Error Resume Next","\t\tSet["+dl+'] = [__proxy__](Me,[__data__],"'+dl+'")',"\tIf Err.Number <> 0 Then","\t\t["+dl+'] = [__proxy__](Me,[__data__],"'+dl+'")',"\tEnd If","\tOn Error Goto 0","\tEnd Property")}ap.push("End Class");var e=ap.join("\r\n");var dn=G[e];if(!dn){dn=bz("VBClass");bZ.parseVB("Class "+dn+e);bZ.parseVB(["Function "+dn+"Factory(a, b)","\tDim o","\tSet o = (New "+dn+")(a, b)","\tSet "+dn+"Factory = o","End Function"].join("\r\n"));G[e]=dn}var dj=bZ[dn+"Factory"](dk,cc);return dj}}}function ae(e){var dj=[];dj.$id=bz();dj.$model=e;dj.$events={};dj.$events[cB]=[];dj._=cd({length:e.length});dj._.$watch("length",function(dl,dk){dj.$fire("length",dl,dk)});for(var ap in cE){dj[ap]=cE[ap]}avalon.mix(dj,cG);return dj}function bD(e,dr,dk,dn,ap,ds,dm){var dj=this.length,dl=2;while(--dl){switch(e){case"add":var dq=this.$model.slice(dr,dr+dk).map(function(dt){if(B.test(avalon.type(dt))){return dt.$id?dt:cd(dt,0,dt)}else{return dt}});bF.apply(this,[dr,0].concat(dq));this._fire("add",dr,dk);break;case"del":var dp=this._splice(dr,dk);this._fire("del",dr,dk);break}if(ap){e=ap;dr=ds;dk=dm;dl=2;ap=0}}this._fire("index",dn);if(this.length!==dj){this._.length=this.length}return dp}var bF=cJ.splice;var cG={_splice:bF,_fire:function(dj,ap,e){cR(this.$events[cB],dj,ap,e)},size:function(){return this._.length},pushArray:function(dj){var e=dj.length,ap=this.length;if(e){cJ.push.apply(this.$model,dj);bD.call(this,"add",ap,e,Math.max(0,ap-1))}return e+ap},push:function(){var dj=[];var e,ap=arguments.length;for(e=0;e<ap;e++){dj[e]=arguments[e]}return this.pushArray(dj)},unshift:function(){var e=arguments.length,ap=this.length;if(e){cJ.unshift.apply(this.$model,arguments);bD.call(this,"add",0,e,0)}return e+ap},shift:function(){if(this.length){var e=this.$model.shift();bD.call(this,"del",0,1,0);return e}},pop:function(){var ap=this.length;if(ap){var e=this.$model.pop();bD.call(this,"del",ap-1,1,Math.max(0,ap-2));return e}},splice:function(dl){var e=arguments.length,ap=[],dk;var dj=bF.apply(this.$model,arguments);if(dj.length){ap.push("del",dl,dj.length,0);dk=true}if(e>2){if(dk){ap.splice(3,1,0,"add",dl,e-2)}else{ap.push("add",dl,e-2,0)}dk=true}if(dk){return bD.apply(this,ap)}else{return[]}},contains:function(e){return this.indexOf(e)!==-1},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){if(e>=0){this.$model.splice(e,1);return bD.call(this,"del",e,1,0)}return[]},clear:function(){this.$model.length=this.length=this._.length=0;this._fire("clear",0);return this},removeAll:function(dj){if(Array.isArray(dj)){for(var e=this.length-1;e>=0;e--){if(dj.indexOf(this[e])!==-1){this.removeAt(e)}}}else{if(typeof dj==="function"){for(e=this.length-1;e>=0;e--){var ap=this[e];if(dj(ap,e)){this.removeAt(e)}}}else{this.clear()}}},ensure:function(e){if(!this.contains(e)){this.push(e)}return this},set:function(e,dk){if(e>=0){var dl=avalon.type(dk);if(dk&&dk.$model){dk=dk.$model}var dj=this[e];if(dl==="object"){for(var ap in dk){if(dj.hasOwnProperty(ap)){dj[ap]=dk[ap]}}}else{if(dl==="array"){dj.clear().push.apply(dj,dk)}else{if(dj!==dk){this[e]=dk;this.$model[e]=dk;this._fire("set",e,dk)}}}}return this}};function af(dk,dj){var ap=dk.length-1;for(var e;e=dk[dj];dj++){e.$index=dj;e.$first=dj===0;e.$last=dj===ap}}function be(dm,ap){var dk={};for(var dj=0,dl=ap.length;dj<dl;dj++){dk[dj]=dm[dj];var e=ap[dj];if(e in dk){dm[dj]=dk[e];delete dk[e]}else{dm[dj]=dm[e]}}}"sort,reverse".replace(bL,function(e){cG[e]=function(){var dp=this.$model;var dn=dp.concat();var ds=Math.random();var dl=[];var dr;cJ[e].apply(dp,arguments);for(var dk=0,dj=dn.length;dk<dj;dk++){var dq=dp[dk];var ap=dn[dk];if(bJ(dq,ap)){dl.push(dk)}else{var dm=dn.indexOf(dq);dl.push(dm);dn[dm]=ds;dr=true}}if(dr){be(this,dl);this._fire("move",dl);this._fire("index",0)}return this}});var cn=(function(){var e=[];var ap;return{begin:function(dj){e.push(ap);ap=dj},end:function(){ap=e.pop()},collectDependency:function(dk,dj){if(ap){ap.callback(dk,dj)}}}})();var bS=/^(duplex|on)$/;avalon.injectBinding=function(dl){var dj=dl.evaluator;if(dj){cn.begin({callback:function(dp,e){ag(dp.$events[e._name],dl)}});try{var dn=bS.test(dl.type)?dl:dj.apply(0,dl.args);dl.handler(dn,dl.element,dl)}catch(dm){delete dl.evaluator;var dk=dl.element;if(dk.nodeType===3){var ap=dk.parentNode;if(au.commentInterpolate){ap.replaceChild(cs.createComment(dl.value),dk)}else{dk.data=cw+(dl.oneTime?"::":"")+dl.value+bi}}}finally{cn.end()}}};function ag(ap,e){if(e.oneTime){return}if(ap&&avalon.Array.ensure(ap,e)&&e.element){co(e,ap)}}function cR(dn){if(dn&&dn.length){if(new Date()-bX>444&&typeof dn[0]==="object"){aV()}var dj=Y.call(arguments,1);for(var dk=dn.length,dm;dm=dn[--dk];){var dl=dm.element;if(dl&&dl.parentNode){try{if(dm.$repeat){dm.handler.apply(dm,dj)}else{if(dm.type!=="on"){var ap=dm.evaluator||l;dm.handler(ap.apply(0,dm.args||[]),dl,dm)}}}catch(dp){}}}}}var c2=0;var cU=avalon.$$subscribers=[];var bX=new Date();var aH={};var bI={};function N(ap,e){if(!ap.uuid&&!e){ap.uuid=++c2;bI[ap.uuid]=ap}return ap.uuid}function t(e){return bI[e]}function co(dk,dj){var ap=dk.element;if(!dk.uuid){if(ap.nodeType!==1){dk.uuid=dk.type+(dk.pos||0)+"-"+N(ap.parentNode)}else{dk.uuid=dk.name+"-"+N(ap)}}var e=dk.lists||(dk.lists=[]);avalon.Array.ensure(e,dj);dj.$uuid=dj.$uuid||bz();if(!cU[dk.uuid]){cU[dk.uuid]=1;cU.push(dk)}}function aV(dj){if(avalon.optimize){return}var dl=cU.length;var e=dl;var dm=[];var dk={};var dq={};while(dj=cU[--dl]){var dp=dj.type;if(dq[dp]){dq[dp]++}else{dq[dp]=1;dm.push(dp)}}var dr=false;dm.forEach(function(dt){if(aH[dt]!==dq[dt]){dk[dt]=1;dr=true}});dl=e;if(dr){while(dj=cU[--dl]){if(!dj.element){continue}if(dk[dj.type]&&g(dj.element)){cU.splice(dl,1);delete cU[dj.uuid];delete bI[dj.element.uuid];var ds=dj.lists;for(var ap=0,dn;dn=ds[ap++];){avalon.Array.remove(ds,dn);avalon.Array.remove(dn,dj)}bN(dj)}}}aH=dq;bX=new Date()}function bN(ap){ap.element=null;ap.rollback&&ap.rollback();for(var e in ap){ap[e]=null}}function g(ap){try{if(!ap.parentNode){return true}}catch(dj){return true}return ap.msRetain?0:(ap.nodeType===1?!cV.contains(ap):!avalon.contains(cV,ap))}var bu={area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],col:[2,"<table><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table>","</table>"],td:[3,"<table><tr>","</tr></table>"],g:[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',"</svg>"],_default:aN?[0,"",""]:[1,"X<div>","</div>"]};bu.th=bu.td;bu.optgroup=bu.option;bu.tbody=bu.tfoot=bu.colgroup=bu.caption=bu.thead;String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(bL,function(e){bu[e]=bu.g});var w=/<([\w:]+)/;var c1=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig;var bM=aN?/[^\d\D]/:/(<(?:script|link|style|meta|noscript))/ig;var cP=da(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]);var bP=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/;var bE=cs.createElement("script");var Z=/<|&#?\w+;/;avalon.parseHTML=function(dn){var dq=b8.cloneNode(false);if(typeof dn!=="string"){return dq}if(!Z.test(dn)){dq.appendChild(cs.createTextNode(dn));return dq}dn=dn.replace(c1,"<$1></$2>").trim();var dt=(w.exec(dn)||["",""])[1].toLowerCase(),ap=bu[dt]||bu._default,e=c7,dr,ds;if(!aN){dn=dn.replace(bM,"<br class=msNoScope>$1")}e.innerHTML=ap[1]+dn+ap[2];var dl=e.getElementsByTagName("script");if(dl.length){for(var dm=0,dj;dj=dl[dm++];){if(cP[dj.type]){ds=bE.cloneNode(false);cJ.forEach.call(dj.attributes,function(du){if(du&&du.specified){ds[du.name]=du.value;ds.setAttribute(du.name,du.value)}});ds.text=dj.text;dj.parentNode.replaceChild(ds,dj)}}}if(!aN){var dp=ap[1]==="X<div>"?e.lastChild.firstChild:e.lastChild;if(dp&&dp.tagName==="TABLE"&&dt!=="tbody"){for(dl=dp.childNodes,dm=0;dj=dl[dm++];){if(dj.tagName==="TBODY"&&!dj.innerHTML){dp.removeChild(dj);break}}}dl=e.getElementsByTagName("br");var dk=dl.length;while(dj=dl[--dk]){if(dj.className==="msNoScope"){dj.parentNode.removeChild(dj)}}for(dl=e.all,dm=0;dj=dl[dm++];){if(y(dj)){a2(dj)}}}for(dm=ap[0];dm--;e=e.lastChild){}while(dr=e.firstChild){dq.appendChild(dr)}return dq};function y(e){var ap=e.nodeName;return ap.toLowerCase()===ap&&e.scopeName&&e.outerText===""}function a2(e){if(e.currentStyle.behavior!=="url(#default#VML)"){e.style.behavior="url(#default#VML)";e.style.display="inline-block";e.style.zoom=1}}avalon.innerHTML=function(dk,dj){if(!aN&&(!bM.test(dj)&&!bP.test(dj))){try{dk.innerHTML=dj;return}catch(dl){}}var ap=this.parseHTML(dj);this.clearHTML(dk).appendChild(ap)};avalon.clearHTML=function(e){e.textContent="";while(e.firstChild){e.removeChild(e.firstChild)}return e};function bq(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function m(e){if(!e||e.indexOf("-")<0&&e.indexOf("_")<0){return e}return e.replace(/[-_][^-_]/g,function(ap){return ap.charAt(1).toUpperCase()})}var X={_toString:function(){var ap=this.node;var e=ap.className;var dj=typeof e==="string"?e:e.baseVal;return dj.split(/\s+/).join(" ")},_contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},_add:function(e){if(!this.contains(e)){this._set(this+" "+e)}},_remove:function(e){this._set((" "+this+" ").replace(" "+e+" "," "))},__set:function(e){e=e.trim();var ap=this.node;if(at.test(ap)){ap.setAttribute("class",e)}else{ap.className=e}}};function bj(ap){if(!("classList" in ap)){ap.classList={node:ap};for(var e in X){ap.classList[e.slice(1)]=X[e]}}return ap.classList}"add,remove".replace(bL,function(e){avalon.fn[e+"Class"]=function(ap){var dj=this[0];if(ap&&typeof ap==="string"&&dj&&dj.nodeType===1){ap.replace(/\S+/g,function(dk){bj(dj)[e](dk)})}return this}});avalon.fn.mix({hasClass:function(e){var ap=this[0]||{};return ap.nodeType===1&&bj(ap).contains(e)},toggleClass:function(dm,dj){var dk,ap=0;var dn=String(dm).split(/\s+/);var e=typeof dj==="boolean";while((dk=dn[ap++])){var dl=e?dj:!this.hasClass(dk);this[dl?"addClass":"removeClass"](dk)}return this},attr:function(e,ap){if(arguments.length===2){this[0].setAttribute(e,ap);return this}else{return this[0].getAttribute(e)}},data:function(ap,dj){ap="data-"+bq(ap||"");switch(arguments.length){case 2:this.attr(ap,dj);return this;case 1:var dk=this.attr(ap);return c4(dk);case 0:var e={};cJ.forEach.call(this[0].attributes,function(dl){if(dl){ap=dl.name;if(!ap.indexOf("data-")){ap=m(ap.slice(5));e[ap]=c4(dl.value)}}});return e}},removeData:function(e){e="data-"+bq(e);this[0].removeAttribute(e);return this},css:function(ap,dk){if(avalon.isPlainObject(ap)){for(var dj in ap){avalon.css(this,dj,ap[dj])}}else{var e=avalon.css(this,ap,dk)}return e!==void 0?e:this},position:function(){var dj,dk,ap=this[0],e={top:0,left:0};if(!ap){return}if(this.css("position")==="fixed"){dk=ap.getBoundingClientRect()}else{dj=this.offsetParent();dk=this.offset();if(dj[0].tagName!=="HTML"){e=dj.offset()}e.top+=avalon.css(dj[0],"borderTopWidth",true);e.left+=avalon.css(dj[0],"borderLeftWidth",true);e.top-=dj.scrollTop();e.left-=dj.scrollLeft()}return{top:dk.top-e.top-avalon.css(ap,"marginTop",true),left:dk.left-e.left-avalon.css(ap,"marginLeft",true)}},offsetParent:function(){var e=this[0].offsetParent;while(e&&avalon.css(e,"position")==="static"){e=e.offsetParent}return avalon(e||cV)},bind:function(dj,ap,e){if(this[0]){return avalon.bind(this[0],dj,ap,e)}},unbind:function(dj,ap,e){if(this[0]){avalon.unbind(this[0],dj,ap,e)}return this},val:function(dl){var dk=this[0];if(dk&&dk.nodeType===1){var ap=arguments.length===0;var e=ap?":get":":set";var dj=aO[cX(dk)+e];if(dj){var dm=dj(dk,dl)}else{if(ap){return(dk.value||"").replace(/\r/g,"")}else{dk.value=dl}}}return ap?dm:this}});function c4(ap){try{if(typeof ap==="object"){return ap}ap=ap==="true"?true:ap==="false"?false:ap==="null"?null:+ap+""===ap?+ap:cp.test(ap)?avalon.parseJSON(ap):ap}catch(dj){}return ap}var cp=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,cb=/^[\],:{}\s]*$/,ce=/(?:^|:|,)(?:\s*\[)+/g,cA=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bR=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;avalon.parseJSON=bZ.JSON?JSON.parse:function(e){if(typeof e==="string"){e=e.trim();if(e){if(cb.test(e.replace(cA,"@").replace(bR,"]").replace(ce,""))){return(new Function("return "+e))()}}avalon.error("Invalid JSON: "+e)}return e};avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(ap,e){avalon.fn[ap]=function(dm){var dj=this[0]||{},dl=cl(dj),dk=ap==="scrollTop";if(!arguments.length){return dl?(e in dl)?dl[e]:cV[ap]:dj[ap]}else{if(dl){dl.scrollTo(!dk?dm:avalon(dl).scrollLeft(),dk?dm:avalon(dl).scrollTop())}else{dj[ap]=dm}}}});function cl(e){return e.window&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:false}var x=avalon.cssHooks={};var by=["","-webkit-","-o-","-moz-","-ms-"];var bO={"float":aN?"cssFloat":"styleFloat"};avalon.cssNumber=da("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom");avalon.cssName=function(e,dk,dj){if(bO[e]){return bO[e]}dk=dk||cV.style;for(var ap=0,dl=by.length;ap<dl;ap++){dj=m(by[ap]+e);if(dj in dk){return(bO[e]=dj)}}return null};x["@:set"]=function(dj,ap,dk){try{dj.style[ap]=dk}catch(dl){}};if(bZ.getComputedStyle){x["@:get"]=function(dk,ap){if(!dk||!dk.style){throw new Error("getComputedStyle要求传入一个节点 "+dk)}var e,dj=getComputedStyle(dk,null);if(dj){e=ap==="filter"?dj.getPropertyValue(ap):dj[ap];if(e===""){e=dk.style[ap]}}return e};x["opacity:get"]=function(ap){var e=x["@:get"](ap,"opacity");return e===""?"1":e}}else{var ao=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i;var cg=/^(top|right|bottom|left)$/;var ca=/alpha\([^)]*\)/i;var W=!!bZ.XDomainRequest;var dh="DXImageTransform.Microsoft.Alpha";var ah={thin:W?"1px":"2px",medium:W?"3px":"4px",thick:W?"5px":"6px"};x["@:get"]=function(dm,dk){var dj=dm.currentStyle;var ap=dj[dk];if((ao.test(ap)&&!cg.test(ap))){var dl=dm.style,dn=dl.left,e=dm.runtimeStyle.left;dm.runtimeStyle.left=dj.left;dl.left=dk==="fontSize"?"1em":(ap||0);ap=dl.pixelLeft+"px";dl.left=dn;dm.runtimeStyle.left=e}if(ap==="medium"){dk=dk.replace("Width","Style");if(dj[dk]==="none"){ap="0px"}}return ap===""?"auto":ah[ap]||ap};x["opacity:set"]=function(dl,ap,dm){var dk=dl.style;var e=isFinite(dm)&&dm<=1?"alpha(opacity="+dm*100+")":"";var dj=dk.filter||"";dk.zoom=1;dk.filter=(ca.test(dj)?dj.replace(ca,e):dj+" "+e).trim();if(!dk.filter){dk.removeAttribute("filter")}};x["opacity:get"]=function(e){var ap=e.filters.alpha||e.filters[dh],dj=ap&&ap.enabled?ap.opacity:100;return(dj/100)+""}}"top,left".replace(bL,function(e){x[e+":get"]=function(dj){var ap=x["@:get"](dj,e);return/px$/.test(ap)?ap:avalon(dj).position()[e]+"px"}});var b6={position:"absolute",visibility:"hidden",display:"block"};var V=/^(none|table(?!-c[ea]).+)/;function ab(dj,dl){if(dj.offsetWidth<=0){if(V.test(x["@:get"](dj,"display"))){var dk={node:dj};for(var e in b6){dk[e]=dj.style[e];dj.style[e]=b6[e]}dl.push(dk)}var ap=dj.parentNode;if(ap&&ap.nodeType===1){ab(ap,dl)}}}"Width,Height".replace(bL,function(dj){var dl=dj.toLowerCase(),ap="client"+dj,e="scroll"+dj,dk="offset"+dj;x[dl+":get"]=function(dp,dq,dn){var dr=-4;if(typeof dn==="number"){dr=dn}dq=dj==="Width"?["Left","Right"]:["Top","Bottom"];var dm=dp[dk];if(dr===2){return dm+avalon.css(dp,"margin"+dq[0],true)+avalon.css(dp,"margin"+dq[1],true)}if(dr<0){dm=dm-avalon.css(dp,"border"+dq[0]+"Width",true)-avalon.css(dp,"border"+dq[1]+"Width",true)}if(dr===-4){dm=dm-avalon.css(dp,"padding"+dq[0],true)-avalon.css(dp,"padding"+dq[1],true)}return dm};x[dl+"&get"]=function(dn){var dp=[];ab(dn,dp);var dr=x[dl+":get"](dn);for(var dm=0,dq;dq=dp[dm++];){dn=dq.node;for(var ds in dq){if(typeof dq[ds]==="string"){dn.style[ds]=dq[ds]}}}return dr};avalon.fn[dl]=function(dn){var dm=this[0];if(arguments.length===0){if(dm.setTimeout){return dm["inner"+dj]||dm.document.documentElement[ap]}if(dm.nodeType===9){var dp=dm.documentElement;return Math.max(dm.body[e],dp[e],dm.body[dk],dp[dk],dp[ap])}return x[dl+"&get"](dm)}else{return this.css(dl,dn)}};avalon.fn["inner"+dj]=function(){return x[dl+":get"](this[0],void 0,-2)};avalon.fn["outer"+dj]=function(dm){return x[dl+":get"](this[0],void 0,dm===true?2:0)}});avalon.fn.offset=function(){var ap=this[0],dl={left:0,top:0};if(!ap||!ap.tagName||!ap.ownerDocument){return dl}var dr=ap.ownerDocument,dm=dr.body,dq=dr.documentElement,dn=dr.defaultView||dr.parentWindow;if(!avalon.contains(dq,ap)){return dl}if(ap.getBoundingClientRect){dl=ap.getBoundingClientRect()}var dk=dq.clientTop||dm.clientTop,dp=dq.clientLeft||dm.clientLeft,e=Math.max(dn.pageYOffset||0,dq.scrollTop,dm.scrollTop),dj=Math.max(dn.pageXOffset||0,dq.scrollLeft,dm.scrollLeft);return{top:dl.top+e-dk,left:dl.left+dj-dp}};function cX(ap){var e=ap.tagName.toLowerCase();return e==="input"&&/checkbox|radio/.test(ap.type)?"checked":e}var cN=/^<option(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s+value[\s=]/i;var aO={"option:get":bU?function(e){return cN.test(e.outerHTML)?e.value:e.text.trim()}:function(e){return e.value},"select:get":function(e,dp){var dj,dr=e.options,dl=e.selectedIndex,dm=aO["option:get"],dk=e.type==="select-one"||dl<0,dq=dk?null:[],dn=dk?dl+1:dr.length,ap=dl<0?dn:dk?dl:0;for(;ap<dn;ap++){dj=dr[ap];if((dj.selected||ap===dl)&&!dj.disabled){dp=dm(dj);if(dk){return dp}dq.push(dp)}}return dq},"select:set":function(dl,ap,dm){ap=[].concat(ap);var e=aO["option:get"];for(var dj=0,dk;dk=dl.options[dj++];){if((dk.selected=ap.indexOf(e(dk))>-1)){dm=true}}if(!dm){dl.selectedIndex=-1}}};var bw={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var ar=bZ.JSON&&JSON.stringify||function(e){return'"'+e.replace(/[\\\"\x00-\x1f]/g,function(ap){var dj=bw[ap];return typeof dj==="string"?dj:"\\u"+("0000"+ap.charCodeAt(0).toString(16)).slice(-4)})+'"'};var F=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(",");var cW=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g;var aU=/[^\w$]+/g;var ai=new RegExp(["\\b"+F.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var k=/\b\d[^,]*/g;var c8=/^,+|,+$/g;var ck=new h(512);var aC=function(dk){var dj=","+dk.trim();var ap=ck.get(dj);if(ap){return ap}var e=dk.replace(cW,"").replace(aU,",").replace(ai,"").replace(k,"").replace(c8,"").split(/^$|,+/);return ck.put(dj,cS(e))};function bG(dn,dk,ap,dm){var e=[],dl=" = "+ap+".";for(var dj=dn.length,dp;dp=dn[--dj];){if(dk.hasOwnProperty(dp)){e.push(dp+dl+dp);dm.vars.push(dp);if(dm.type==="duplex"){dn.get=ap+"."+dp}dn.splice(dj,1)}}return e}function cS(dm){var e=[],dk={};for(var ap=0;ap<dm.length;ap++){var dj=dm[ap];var dl=dj&&typeof dj.$id==="string"?dj.$id:dj;if(!dk[dl]){dk[dl]=e.push(dj)}}return e}var bg=new h(128);var b=/\w\[.*\]|\w\.\w/;var db=/(\$proxy\$[a-z]+)\d+$/;var aK=/\)\s*$/;var bC=/\)\s*\|/g;var j=/\|\s*([$\w]+)/g;var b0=/"\s*\["/g;var I=/"\s*\(/g;function q(ap,e){e=e.replace(aK,"").replace(bC,function(){return"],|"}).replace(j,function(dk,dj){return"["+ar(dj)}).replace(b0,function(){return'"],["'}).replace(I,function(){return'",'})+"]";return"return avalon.filters.$filter("+ap+", "+e+")"}function b5(ap,ds,dB){var dt=dB.type;var dm=dB.filters||"";var dA=ds.map(function(e){return String(e.$id).replace(db,"$1")})+ap+dt+dm;var dq=aC(ap).concat(),dn=[],dp=[],dk=[],du="";ds=cS(ds);dB.vars=[];for(var dw=0,dy=ds.length;dw<dy;dw++){if(dq.length){var dC="vm"+aF+"_"+dw;dp.push(dC);dk.push(ds[dw]);dn.push.apply(dn,bG(dq,ds[dw],dC,dB))}}if(!dn.length&&dt==="duplex"){return}if(dt!=="duplex"&&(ap.indexOf("||")>-1||ap.indexOf("&&")>-1)){dB.vars.forEach(function(e){var dD=new RegExp("\\b"+e+"(?:\\.\\w+|\\[\\w+\\])+","ig");ap=ap.replace(dD,function(dF){var dK=dF.charAt(e.length);var dH=bU?ap.slice(arguments[1]+dF.length):RegExp.rightContext;var dJ=/^\s*\(/.test(dH);if(dK==="."||dK==="["||dJ){var dE="var"+String(Math.random()).replace(/^0\./,"");if(dJ){var dI=dF.split(".");if(dI.length>2){var dG=dI.pop();dn.push(dE+" = "+dI.join("."));return dE+"."+dG}else{return dF}}dn.push(dE+" = "+dF);return dE}else{return dF}})})}dB.args=dk;delete dB.vars;var dl=bg.get(dA);if(dl){dB.evaluator=dl;return}du=dn.join(", ");if(du){du="var "+du}if(/\S/.test(dm)){if(!/text|html/.test(dB.type)){throw Error("ms-"+dB.type+"不支持过滤器")}ap="\nvar ret"+aF+" = "+ap+";\r\n";ap+=q("ret"+aF,dm)}else{if(dt==="duplex"){var dj="'use strict';\nreturn function(vvv){\n\t"+du+";\n\tif(!arguments.length){\n\t\treturn "+ap+"\n\t}\n\t"+(!b.test(ap)?dq.get:ap)+"= vvv;\n} ";try{dl=Function.apply(l,dp.concat(dj));dB.evaluator=bg.put(dA,dl)}catch(dz){cj("debug: parse error,"+dz.message)}return}else{if(dt==="on"){if(ap.indexOf("(")===-1){ap+=".call(this, $event)"}else{ap=ap.replace("(",".call(this,")}dp.push("$event");ap="\nreturn "+ap+";";var dx=ap.lastIndexOf("\nreturn");var dv=ap.slice(0,dx);var dr=ap.slice(dx);ap=dv+"\n"+dr}else{ap="\nreturn "+ap+";"}}}try{dl=Function.apply(l,dp.concat("'use strict';\n"+du+ap));dB.evaluator=bg.put(dA,dl)}catch(dz){cj("debug: parse error,"+dz.message)}finally{dq=dn=dp=null}}function c3(ap,e,dj,dk,dl){if(Array.isArray(dk)){ap=dk.map(function(dm){return dm.expr?"("+dm.value+")":ar(dm.value)}).join(" + ")}b5(ap,e,dj);if(dj.evaluator&&!dl){dj.handler=aj[dj.handlerName||dj.type];avalon.injectBinding(dj)}}avalon.parseExprProxy=c3;avalon.scan=function(ap,dj){ap=ap||cV;var e=dj?[].concat(dj):[];bv(ap,e)};var a4=da("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase());function f(e,dk,dj){var ap=setTimeout(function(){var dl=e.innerHTML;clearTimeout(ap);if(dl===dj){dk()}else{f(e,dk,dl)}})}function U(e,ap){var dj=e.getAttribute("avalonctrl")||ap.$id;e.setAttribute("avalonctrl",dj);ap.$events.expr=e.tagName+'[avalonctrl="'+dj+'"]'}var aR=function(dl,ap,e){var dm=dl.getAttribute(ap);if(dm){for(var dj=0,dk;dk=e[dj++];){if(dk.hasOwnProperty(dm)&&typeof dk[dm]==="function"){return dk[dm]}}}};function cH(dk,e){for(var ap=0,dj;dj=dk[ap++];){dj.vmodels=e;c9[dj.type](dj,e);if(dj.evaluator&&dj.element&&dj.element.nodeType===1){dj.element.removeAttribute(dj.name)}}dk.length=0}var aZ=bU&&bZ.MutationObserver?function(dj){var ap=dj.firstChild,dk;while(ap){var e=ap.nextSibling;if(ap.nodeType===3){if(dk){dk.nodeValue+=ap.nodeValue;dj.removeChild(ap)}else{dk=ap}}else{dk=null}ap=e}}:0;var az=/^\s*::/;var aW=/ms-(\w+)-?(.*)/;var S={"if":10,repeat:90,data:100,widget:110,each:1400,"with":1500,duplex:2000,on:3000};var c6=da("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit");var cr=da("value,title,alt,checked,selected,disabled,readonly,enabled");function L(ap,e){return ap.priority-e.priority}function bY(dx,dw,dn){var ap=true;if(dw.length){var dp=O?O(dx):dx.attributes;var dz=[];var dy=[];var dr={};for(var dv=0,du;du=dp[dv++];){if(du.specified){if(dn=du.name.match(aW)){var dk=dn[1];var dl=dn[2]||"";var dt=du.value;var dA=du.name;if(c6[dk]){dl=dk;dk="on"}else{if(cr[dk]){if(dk==="enabled"){cj("warning!ms-enabled或ms-attr-enabled已经被废弃");dk="disabled";dt="!("+dt+")"}dl=dk;dk="attr";dA="ms-"+dk+"-"+dl;dy.push([du.name,dA,dt])}}dr[dA]=dt;if(typeof c9[dk]==="function"){var dq=dt.replace(az,"");var dj=dt!==dq;var ds={type:dk,param:dl,element:dx,name:dA,value:dq,oneTime:dj,uuid:dA+"-"+N(dx),priority:(S[dk]||dk.charCodeAt(0)*10)+(Number(dl.replace(/\D/g,""))||0)};if(dk==="html"||dk==="text"){var dm=p(dt);avalon.mix(ds,dm);ds.filters=ds.filters.replace(dd,function(){ds.type="html";ds.group=1;return""})}else{if(dk==="duplex"){var e=dA}else{if(dA==="ms-if-loop"){ds.priority+=100}}}dz.push(ds);if(dk==="widget"){dx.msData=dx.msData||dr}}}}}if(dz.length){dz.sort(L);dy.forEach(function(dB){cj("warning!请改用"+dB[1]+"代替"+dB[0]+"!");dx.removeAttribute(dB[0]);dx.setAttribute(dB[1],dB[2])});if(e){if(dr["ms-attr-checked"]){cj("warning!一个控件不能同时定义ms-attr-checked与"+e)}if(dr["ms-attr-value"]){cj("warning!一个控件不能同时定义ms-attr-value与"+e)}}for(dv=0;ds=dz[dv];dv++){dk=ds.type;if(bf.test(dk)){return cH(dz.slice(0,dv+1),dw)}else{if(ap){ap=!c5.test(dk)}}}cH(dz,dw)}}if(ap&&!a4[dx.tagName]&&a3.test(dx.innerHTML.replace(cZ,"<").replace(aq,">"))){aZ&&aZ(dx);aJ(dx,dw)}}var bf=/^if|widget|repeat$/;var c5=/^each|with|html|include$/;if(!"1"[0]){var cD=new h(512);var bB=/\s+(ms-[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,b1=/^['"]/,bk=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/i,T=/&amp;/g;var O=function(ap){var dl=ap.outerHTML;if(dl.slice(0,2)==="</"||!dl.trim()){return[]}var dq=dl.match(bk)[0];var dk=[],dm,dj,dr;var dn=cD.get(dq);if(dn){return dn}while(dj=bB.exec(dq)){dr=dj[2];if(dr){dr=(b1.test(dr)?dr.slice(1,-1):dr).replace(T,"&")}var e=dj[1].toLowerCase();dm=e.match(aW);var dp={name:e,specified:true,value:dr||""};dk.push(dp)}return cD.put(dq,dk)}}function aJ(dj,ap){var e=avalon.slice(dj.childNodes);aP(e,ap)}function aP(e,ap){for(var dj=0,dk;dk=e[dj++];){switch(dk.nodeType){case 1:bv(dk,ap);if(dk.msCallback){dk.msCallback();dk.msCallback=void 0}break;case 3:if(ak.test(dk.nodeValue)){D(dk,ap,dj)}break}}}function bv(dm,dk,dl){var ap=dm.getAttribute("ms-skip");if(!dm.getAttributeNode){return cj("warning "+dm.tagName+" no getAttributeNode method")}var e=dm.getAttributeNode("ms-important");var dp=dm.getAttributeNode("ms-controller");if(typeof ap==="string"){return}else{if(dl=e||dp){var dn=avalon.vmodels[dl.value];if(!dn){return}dk=dl===e?[dn]:[dn].concat(dk);var dj=dl.name;dm.removeAttribute(dj);avalon(dm).removeClass(dj);U(dm,dn)}}bY(dm,dk)}var dd=/\|\s*html\s*/,bs=/\|\|/g,cZ=/&lt;/g,aq=/&gt;/g,a1=/(['"])(\\\1|.)+?\1/g;function p(dj){if(dj.indexOf("|")>0){var e=dj.replace(a1,function(dk){return Array(dk.length+1).join("1")});var ap=e.replace(bs,"\u1122\u3344").indexOf("|");if(ap>-1){return{filters:dj.slice(ap),value:dj.slice(0,ap),expr:true}}}return{value:dj,filters:"",expr:true}}function cF(dk){var dj=[],ap,dl=0,e;do{e=dk.indexOf(cw,dl);if(e===-1){break}ap=dk.slice(dl,e);if(ap){dj.push({value:ap,filters:"",expr:false})}dl=e+cw.length;e=dk.indexOf(bi,dl);if(e===-1){break}ap=dk.slice(dl,e);if(ap){dj.push(p(ap,dl))}dl=e+bi.length}while(1);ap=dk.slice(dl);if(ap){dj.push({value:ap,expr:false,filters:""})}return dj}function D(dl,ap,e){var dm=[];tokens=cF(dl.data);if(tokens.length){for(var dj=0;token=tokens[dj++];){var dk=cs.createTextNode(token.value);if(token.expr){token.value=token.value.replace(az,function(){token.oneTime=true;return""});token.type="text";token.element=dk;token.filters=token.filters.replace(dd,function(){token.type="html";return""});token.pos=e*1000+dj;dm.push(token)}b8.appendChild(dk)}dl.parentNode.replaceChild(b8,dl);if(dm.length){cH(dm,ap)}}}var cK=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(",");var A={};cK.replace(bL,function(e){A[e.toLowerCase()]=e});var bd={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"};var i=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");i.replace(bL,function(e){bd[e.toLowerCase()]=e});var aM=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/img;var a0=/<noscript.*?>([\s\S]+?)<\/noscript>/im;var ay=function(){return new (bZ.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")};var aS=avalon.templateCache={};c9.attr=function(dk,e){var dl=dk.value.trim(),dm=true;if(dl.indexOf(cw)>-1&&dl.indexOf(bi)>2){dm=false;if(ak.test(dl)&&RegExp.rightContext===""&&RegExp.leftContext===""){dm=true;dl=RegExp.$1}}if(dk.type==="include"){var dj=dk.element;dk.includeRendered=aR(dj,"data-include-rendered",e);dk.includeLoaded=aR(dj,"data-include-loaded",e);var ap=dk.includeReplace=!!avalon(dj).data("includeReplace");if(avalon(dj).data("includeCache")){dk.templateCache={}}dk.startInclude=cs.createComment("ms-include");dk.endInclude=cs.createComment("ms-include-end");if(ap){dk.element=dk.startInclude;dj.parentNode.insertBefore(dk.startInclude,dj);dj.parentNode.insertBefore(dk.endInclude,dj.nextSibling)}else{dj.insertBefore(dk.startInclude,dj.firstChild);dj.appendChild(dk.endInclude)}}dk.handlerName="attr";c3(dl,e,dk,(dm?0:cF(dk.value)))};aj.attr=function(dE,dw,dA){var dj=dA.type,du=dA.param;if(dj==="css"){avalon(dw).css(du,dE)}else{if(dj==="attr"){var dr=(dE===false)||(dE===null)||(dE===void 0);if(!aN&&bd[du]){du=bd[du]}var dn=A[du];if(typeof dw[dn]==="boolean"){dw[dn]=!!dE;if(!dE){dr=true}}if(dr){return dw.removeAttribute(du)}var dp=at.test(dw)?false:(cs.namespaces&&y(dw))?true:du in dw.cloneNode(false);if(dp){dw[du]=dE+""}else{dw.setAttribute(du,dE)}}else{if(dj==="include"&&dE){var dv=dA.vmodels;var dB=dA.includeRendered;var ds=dA.includeLoaded;var dy=dA.includeReplace;var dz=dy?dw.parentNode:dw;var dx=function(dL){if(ds){var dI=ds.apply(dz,[dL].concat(dv));if(typeof dI==="string"){dL=dI}}if(dB){f(dz,function(){dB.call(dz)},NaN)}var dJ=dA.includeLastID;if(dA.templateCache&&dJ&&dJ!==dE){var dH=dA.templateCache[dJ];if(!dH){dH=dA.templateCache[dJ]=cs.createElement("div");aA.appendChild(dH)}}dA.includeLastID=dE;while(true){var dG=dA.startInclude.nextSibling;if(dG&&dG!==dA.endInclude){dz.removeChild(dG);if(dH){dH.appendChild(dG)}}else{break}}var dK=bA(dA,dE,dL);var dF=avalon.slice(dK.childNodes);dz.insertBefore(dK,dA.endInclude);aP(dF,dv)};if(dA.param==="src"){if(typeof aS[dE]==="string"){avalon.nextTick(function(){dx(aS[dE])})}else{if(Array.isArray(aS[dE])){aS[dE].push(dx)}else{var dl=ay();dl.onreadystatechange=function(){if(dl.readyState===4){var dG=dl.status;if(dG>=200&&dG<300||dG===304||dG===1223){var dI=dl.responseText;for(var dH=0,dF;dF=aS[dE][dH++];){dF(dI)}aS[dE]=dI}}};aS[dE]=[dx];dl.open("GET",dE,true);if("withCredentials" in dl){dl.withCredentials=true}dl.setRequestHeader("X-Requested-With","XMLHttpRequest");dl.send(null)}}}else{var ap=dE&&dE.nodeType===1?dE:cs.getElementById(dE);if(ap){if(ap.tagName==="NOSCRIPT"&&!(ap.innerHTML||ap.fixIE78)){dl=ay();dl.open("GET",location,false);dl.send(null);var dC=cs.getElementsByTagName("noscript");var dk=(dl.responseText||"").match(aM)||[];var dq=dk.length;for(var dt=0;dt<dq;dt++){var dD=dC[dt];if(dD){dD.style.display="none";dD.fixIE78=(dk[dt].match(a0)||["","&nbsp;"])[1]}}}avalon.nextTick(function(){dx(ap.fixIE78||ap.value||ap.innerText||ap.innerHTML)})}}}else{if(!cV.hasAttribute&&typeof dE==="string"&&(dj==="src"||dj==="href")){dE=dE.replace(/&amp;/g,"&")}dw[dj]=dE;if(bZ.chrome&&dw.tagName==="EMBED"){var dm=dw.parentNode;var e=document.createComment("ms-src");dm.replaceChild(e,dw);dm.replaceChild(dw,e)}}}}};function bA(e,dm,dk){var dl=e.templateCache&&e.templateCache[dm];if(dl){var dj=cs.createDocumentFragment(),ap;while(ap=dl.firstChild){dj.appendChild(ap)}return dj}return avalon.parseHTML(dk)}"title,alt,src,value,css,include,href".replace(bL,function(e){c9[e]=c9.attr});c9["class"]=function(dm,e){var dj=dm.param,dq=dm.value,dl;dm.handlerName="class";if(!dj||isFinite(dj)){dm.param="";var ap=dq.replace(aI,function(dr){return dr.replace(/./g,"0")});var dn=ap.indexOf(":");if(dn===-1){var dp=dq}else{dp=dq.slice(0,dn);dl=dq.slice(dn+1);b5(dl,e,dm);if(!dm.evaluator){cj("debug: ms-class '"+(dl||"").trim()+"' 不存在于VM中");return false}else{dm._evaluator=dm.evaluator;dm._args=dm.args}}var dk=ak.test(dp);if(!dk){dm.immobileClass=dp}c3("",e,dm,(dk?cF(dp):0))}else{dm.immobileClass=dm.oldStyle=dm.param;c3(dq,e,dm)}};aj["class"]=function(dj,dk,dm){var ap=avalon(dk),e=dm.type;if(e==="class"&&dm.oldStyle){ap.toggleClass(dm.oldStyle,!!dj)}else{dm.toggleClass=dm._evaluator?!!dm._evaluator.apply(dk,dm._args):true;dm.newClass=dm.immobileClass||dj;if(dm.oldClass&&dm.newClass!==dm.oldClass){ap.removeClass(dm.oldClass)}dm.oldClass=dm.newClass;switch(e){case"class":ap.toggleClass(dm.newClass,dm.toggleClass);break;case"hover":case"active":if(!dm.hasBindEvent){var dl="mouseenter";var dr="mouseleave";if(e==="active"){dk.tabIndex=dk.tabIndex||-1;dl="mousedown";dr="mouseup";var dq=ap.bind("mouseleave",function(){dm.toggleClass&&ap.removeClass(dm.newClass)})}var dp=ap.bind(dl,function(){dm.toggleClass&&ap.addClass(dm.newClass)});var dn=ap.bind(dr,function(){dm.toggleClass&&ap.removeClass(dm.newClass)});dm.rollback=function(){ap.unbind("mouseleave",dq);ap.unbind(dl,dp);ap.unbind(dr,dn)};dm.hasBindEvent=true}break}}};"hover,active".replace(bL,function(e){c9[e]=c9["class"]});aj.data=function(dk,ap,dj){var e="data-"+dj.param;if(dk&&typeof dk==="object"){ap[e]=dk}else{ap.setAttribute(e,String(dk))}};var cM=c9.duplex=function(dm,e){var dj=dm.element,dq;c3(dm.value,e,dm,0,1);dm.changed=aR(dj,"data-duplex-changed",e)||l;if(dm.evaluator&&dm.args){var dk=[];var dl=da("string,number,boolean,checked");if(dj.type==="radio"&&dm.param===""){dm.param="checked"}if(dj.msData){dj.msData["ms-duplex"]=dm.value}dm.param.replace(/\w+/g,function(ds){if(/^(checkbox|radio)$/.test(dj.type)&&/^(radio|checked)$/.test(ds)){if(ds==="radio"){cj("ms-duplex-radio已经更名为ms-duplex-checked")}ds="checked";dm.isChecked=true}if(ds==="bool"){ds="boolean";cj("ms-duplex-bool已经更名为ms-duplex-boolean")}else{if(ds==="text"){ds="string";cj("ms-duplex-text已经更名为ms-duplex-string")}}if(dl[ds]){dq=true}avalon.Array.ensure(dk,ds)});if(!dq){dk.push("string")}dm.param=dk.join("-");dm.bound=function(dt,du){aw(dj,dt,du,false);var ds=dm.rollback;dm.rollback=function(){dj.avalonSetter=null;avalon.unbind(dj,dt,du);ds&&ds()}};for(var dn in avalon.vmodels){var dr=avalon.vmodels[dn];dr.$fire("avalon-ms-duplex-init",dm)}var dp=dm.pipe||(dm.pipe=a8);dp(null,dm,"init");var ap=dj.tagName;cM[ap]&&cM[ap](dj,dm.evaluator.apply(null,dm.args),dm)}};function ad(e){return e==null?"":e}avalon.duplexHooks={checked:{get:function(ap,e){return !e.element.oldValue}},string:{get:function(e){return e},set:ad},"boolean":{get:function(e){return e==="true"},set:ad},number:{get:function(dk,dj){var ap=parseFloat(dk);if(-dk===-ap){return ap}var e=/strong|medium|weak/.exec(dj.element.getAttribute("data-duplex-number"))||["medium"];switch(e[0]){case"strong":return 0;case"medium":return dk===""?"":0;case"weak":return dk}},set:ad}};function a8(dl,dj,ap,dk){dj.param.replace(/\w+/g,function(e){var dm=avalon.duplexHooks[e];if(dm&&typeof dm[ap]==="function"){dl=dm[ap](dl,dj)}});return dl}var M,cC=[];avalon.tick=function(e){if(cC.push(e)===1){M=setInterval(cq,60)}};function cq(){for(var ap=cC.length-1;ap>=0;ap--){var e=cC[ap];if(e()===false){cC.splice(ap,1)}}if(!cC.length){clearInterval(M)}}var bc=l;var cO=/text|password|hidden/;new function(){try{var dj={};var dn=HTMLInputElement.prototype;var dl=HTMLTextAreaElement.prototype;function ap(e){dj[this.tagName].call(this,e);if(cO.test(this.type)&&!this.msFocus&&this.avalonSetter){this.avalonSetter()}}var dm=HTMLInputElement.prototype;Object.getOwnPropertyNames(dm);dj.INPUT=Object.getOwnPropertyDescriptor(dn,"value").set;Object.defineProperty(dn,"value",{set:ap});dj.TEXTAREA=Object.getOwnPropertyDescriptor(dl,"value").set;Object.defineProperty(dl,"value",{set:ap})}catch(dk){bc=avalon.tick}};if(bU){avalon.bind(cs,"selectionchange",function(dj){var ap=cs.activeElement;if(ap&&typeof ap.avalonSetter==="function"){ap.avalonSetter()}})}cM.INPUT=function(dm,dn,dl){var dr=dm.type,dj=dl.bound,e=avalon(dm),dt=false;function du(dw){dl.changed.call(this,dw,dl)}function ap(){dt=true}function dq(){dt=false}var ds=function(){if(dt){return}var dx=dm.oldValue=dm.value;var dw=dl.pipe(dx,dl,"get");if(e.data("duplexObserve")!==false){dn(dw);du.call(dm,dw);if(e.data("duplex-focus")){avalon.nextTick(function(){dm.focus()})}}};dl.handler=function(){var dw=dl.pipe(dn(),dl,"set")+"";if(dw!==dm.oldValue){dm.value=dw}};if(dl.isChecked||dr==="radio"){var dp=bU===6;ds=function(){if(e.data("duplexObserve")!==false){var dw=dl.pipe(dm.value,dl,"get");dn(dw);du.call(dm,dw)}};dl.handler=function(){var dx=dn();var dw=dl.isChecked?!!dx:dx+""===dm.value;dm.oldValue=dw;if(dp){setTimeout(function(){dm.defaultChecked=dw;dm.checked=dw},31)}else{dm.checked=dw}};dj("click",ds)}else{if(dr==="checkbox"){ds=function(){if(e.data("duplexObserve")!==false){var dy=dm.checked?"ensure":"remove";var dx=dn();if(!Array.isArray(dx)){cj("ms-duplex应用于checkbox上要对应一个数组");dx=[dx]}var dw=dl.pipe(dm.value,dl,"get");avalon.Array[dy](dx,dw);du.call(dm,dx)}};dl.handler=function(){var dx=[].concat(dn());var dw=dl.pipe(dm.value,dl,"get");dm.checked=dx.indexOf(dw)>-1};dj(aN?"change":"click",ds)}else{var dv=dm.getAttribute("data-duplex-event")||"input";if(dm.attributes["data-event"]){cj("data-event指令已经废弃，请改用data-duplex-event")}function dk(dw){setTimeout(function(){ds(dw)})}dv.replace(bL,function(dw){switch(dw){case"input":if(!bU){dj("input",ds);dj("compositionstart",ap);dj("compositionend",dq);dj("DOMAutoComplete",ds)}else{if(bU>8){dj("input",ds)}else{dj("propertychange",function(dx){if(dx.propertyName==="value"){ds()}})}dj("dragend",dk)}break;default:dj(dw,ds);break}});dj("focus",function(){dm.msFocus=true});dj("blur",function(){dm.msFocus=false});if(cO.test(dr)){bc(function(){if(cV.contains(dm)){if(!dm.msFocus&&dm.oldValue!==dm.value){ds()}}else{if(!dm.msRetain){return false}}})}dm.avalonSetter=ds}}dm.oldValue=dm.value;avalon.injectBinding(dl);du.call(dm,dm.value)};cM.TEXTAREA=cM.INPUT;cM.SELECT=function(dj,dl,dk){var ap=avalon(dj);function e(){if(ap.data("duplexObserve")!==false){var dm=ap.val();if(Array.isArray(dm)){dm=dm.map(function(dn){return dk.pipe(dn,dk,"get")})}else{dm=dk.pipe(dm,dk,"get")}if(dm+""!==dj.oldValue){dl(dm)}dk.changed.call(dj,dm,dk)}}dk.handler=function(){var dm=dl();dm=dm&&dm.$model||dm;if(Array.isArray(dm)){if(!dj.multiple){cj("ms-duplex在<select multiple=true>上要求对应一个数组")}}else{if(dj.multiple){cj("ms-duplex在<select multiple=false>不能对应一个数组")}}dm=Array.isArray(dm)?dm.map(String):dm+"";if(dm+""!==dj.oldValue){ap.val(dm);dj.oldValue=dm+""}};dk.bound("change",e);dj.msCallback=function(){avalon.injectBinding(dk);dk.changed.call(dj,dl(),dk)}};aj.html=function(ap,dl,dm){var dq=dl.nodeType!==1;var dr=dq?dl.parentNode:dl;if(!dr){return}ap=ap==null?"":ap;if(dm.oldText!==ap){dm.oldText=ap}else{return}if(dl.nodeType===3){var dj=bz("html");dr.insertBefore(cs.createComment(dj),dl);dm.element=cs.createComment(dj+":end");dr.replaceChild(dm.element,dl);dl=dm.element}if(typeof ap!=="object"){var dn=avalon.parseHTML(String(ap))}else{if(ap.nodeType===11){dn=ap}else{if(ap.nodeType===1||ap.item){var e=ap.nodeType===1?ap.childNodes:ap.item;dn=b8.cloneNode(true);while(e[0]){dn.appendChild(e[0])}}}}e=avalon.slice(dn.childNodes);if(dq){var dp=dl.nodeValue.slice(0,-4);while(true){var dk=dl.previousSibling;if(!dk||dk.nodeType===8&&dk.nodeValue===dp){break}else{dr.removeChild(dk)}}dr.insertBefore(dn,dl)}else{avalon.clearHTML(dl).appendChild(dn)}aP(e,dm.vmodels)};c9["if"]=c9.data=c9.text=c9.html=function(ap,e){c3(ap.value,e,ap)};aj["if"]=function(dm,dj,dk){try{if(!dj.parentNode){return}}catch(dl){return}if(dm){if(dj.nodeType===8){dj.parentNode.replaceChild(dk.template,dj);dj=dk.element=dk.template}if(dj.getAttribute(dk.name)){dj.removeAttribute(dk.name);bY(dj,dk.vmodels)}dk.rollback=null}else{if(dj.nodeType===1){var ap=dk.element=cs.createComment("ms-if");dj.parentNode.replaceChild(ap,dj);dk.template=dj;aA.appendChild(dj);dk.rollback=function(){if(dj.parentNode===aA){aA.removeChild(dj)}}}}};var bx=/\(([^)]*)\)/;c9.on=function(dl,ap){var dk=dl.value;dl.type="on";var dj=dl.param.replace(/-\d+$/,"");if(typeof c9.on[dj+"Hook"]==="function"){c9.on[dj+"Hook"](dl)}if(dk.indexOf("(")>0&&dk.indexOf(")")>-1){var e=(dk.match(bx)||["",""])[1].trim();if(e===""||e==="$event"){dk=dk.replace(bx,"")}}c3(dk,ap,dl)};aj.on=function(dl,dj,dk){dl=function(dn){var dm=dk.evaluator||l;return dm.apply(this,dk.args.concat(dn))};var e=dk.param.replace(/-\d+$/,"");if(e==="scan"){dl.call(dj,{type:e})}else{if(typeof dk.specialBind==="function"){dk.specialBind(dj,dl)}else{var ap=avalon.bind(dj,e,dl)}}dk.rollback=function(){if(typeof dk.specialUnbind==="function"){dk.specialUnbind()}else{avalon.unbind(dj,e,ap)}}};c9.repeat=function(dD,dA){var dl=dD.type;c3(dD.value,dA,dD,0,1);dD.proxies=[];var dn=false;try{var dw=dD.$repeat=dD.evaluator.apply(0,dD.args||[]);var dp=avalon.type(dw);if(dp!=="object"&&dp!=="array"){dn=true;avalon.log("warning:"+dD.value+"只能是对象或数组")}}catch(dB){dn=true}var ap=dD.value.split(".")||[];if(ap.length>1){ap.pop();var dy=ap[0];for(var dz=0,dv;dv=dA[dz++];){if(dv&&dv.hasOwnProperty(dy)){var dk=dv[dy].$events||{};dk[cB]=dk[cB]||[];dk[cB].push(dD);break}}}var dC=dD.element;if(dC.nodeType===1){dC.removeAttribute(dD.name);dD.sortedCallback=aR(dC,"data-with-sorted",dA);dD.renderedCallback=aR(dC,"data-"+dl+"-rendered",dA);var dx=bz(dl);var dq=cs.createComment(dx);var dm=cs.createComment(dx+":end");dD.signature=dx;dD.template=b8.cloneNode(false);if(dl==="repeat"){var ds=dC.parentNode;ds.replaceChild(dm,dC);ds.insertBefore(dq,dm);dD.template.appendChild(dC)}else{while(dC.firstChild){dD.template.appendChild(dC.firstChild)}dC.appendChild(dq);dC.appendChild(dm)}dD.element=dm;dD.handler=aj.repeat;dD.rollback=function(){var e=dD.element;if(!e){return}dD.handler("clear")}}if(dn){return}dD.$outer={};var du="$key";var dt="$val";if(Array.isArray(dw)){du="$first";dt="$last"}for(dz=0;dv=dA[dz++];){if(dv.hasOwnProperty(du)&&dv.hasOwnProperty(dt)){dD.$outer=dv;break}}var dr=dw.$events;var dj=(dr||{})[cB];ag(dj,dD);if(dp==="object"){dD.$with=true;dw.$proxy||(dw.$proxy={});dD.handler("append",dw)}else{if(dw.length){dD.handler("add",0,dw.length)}}};aj.repeat=function(dm,ds,dj){if(dm){var dI=this,dq,e;var dp=dI.element;var dt=de(dI);var dv=dp.parentNode;var dn=dI.proxies;var dF=b8.cloneNode(false);switch(dm){case"add":var dz=ds+dj;var dK=[];for(var dC=ds;dC<dz;dC++){var dB=bK(dC,dI);dn.splice(dC,0,dB);a7(dI,dF,dB,dK)}var dk=new Date()-0;avalon.optimize=avalon.optimize||dk;for(dC=0;e=dK[dC++];){aP(e.nodes,e.vmodels);e.nodes=e.vmodels=null}if(avalon.optimize===dk){delete avalon.optimize}dv.insertBefore(dF,dt[ds]||dp);avalon.profile("插入操作花费了 "+(new Date-dk));break;case"del":cy(dt[ds],dt[ds+dj]||dp);var dD=dn.splice(ds,dj);Q(dD,"each");break;case"clear":dq=dt[0];if(dq){cy(dq,dp);if(dI.$with){dv.insertBefore(dq,dp)}}Q(dn,"each");break;case"move":dq=dt[0];if(dq){var dy=dq.nodeValue;var dG=[];var dE=[],dA;cy(dq,dp,function(){dE.unshift(this);if(this.nodeValue===dy){dG.unshift(dE);dE=[]}});be(dG,ds);be(dn,ds);while(dE=dG.shift()){while(dA=dE.shift()){dF.appendChild(dA)}}dv.insertBefore(dF,dp)}break;case"index":var du=dn.length-1;for(;dj=dn[ds];ds++){dj.$index=ds;dj.$first=ds===0;dj.$last=ds===du}return;case"set":dB=dn[ds];if(dB){cR(dB.$events[dI.param||"el"])}break;case"append":var dH=ds;var dx=dH.$proxy;var dw=[];dK=[];for(var dJ in dx){if(!dH.hasOwnProperty(dJ)){d(dx[dJ],ax);delete (dx[dJ])}}for(dJ in dH){if(dH.hasOwnProperty(dJ)&&dJ!=="hasOwnProperty"&&dJ!=="$proxy"){dw.push(dJ)}}if(dI.sortedCallback){var ap=dI.sortedCallback.call(dv,dw);if(ap&&Array.isArray(ap)&&ap.length){dw=ap}}for(dC=0;dJ=dw[dC++];){if(dJ!=="hasOwnProperty"){dx[dJ]=br(dx[dJ],dJ,dI);a7(dI,dF,dx[dJ],dK)}}dv.insertBefore(dF,dp);for(dC=0;e=dK[dC++];){aP(e.nodes,e.vmodels);e.nodes=e.vmodels=null}break}if(!dI.$repeat||dI.$repeat.hasOwnProperty("$lock")){return}if(dm==="clear"){dm="del"}var dr=dI.renderedCallback||l,dl=arguments;if(dv.oldValue&&dv.tagName==="SELECT"){avalon(dv).val(dv.oldValue.split(","))}dr.apply(dv,dl)}};"with,each".replace(bL,function(e){c9[e]=c9.repeat});function a7(dp,dm,dl,e){var dn=dp.template.cloneNode(true);var dj=avalon.slice(dn.childNodes);if(!dp.$with){dn.insertBefore(cs.createComment(dp.signature),dn.firstChild)}dm.appendChild(dn);var ap=[dl].concat(dp.vmodels);var dk={nodes:dj,vmodels:ap};e.push(dk)}function de(dk){var ap=dk.element;var e=ap.nodeValue.replace(":end","");var dj=ap.previousSibling;var dl=[];while(dj){if(dj.nodeValue===e){dl.unshift(dj)}dj=dj.previousSibling}return dl}function cy(dk,e,dj){while(true){var ap=e.previousSibling;if(!ap){break}ap.parentNode.removeChild(ap);dj&&dj.call(ap);if(ap===dk){break}}}var ax=[];function aY(){var e=cd({$key:"",$outer:{},$host:{},$val:{get:function(){return this.$host[this.$key]},set:function(ap){this.$host[this.$key]=ap}}},{$val:1});e.$id=bz("$proxy$with");return e}function br(ap,e,dk){ap=ap||ax.pop();if(!ap){ap=aY()}else{ap.$reinitialize()}var dj=dk.$repeat;ap.$key=e;ap.$host=dj;ap.$outer=dk.$outer;if(dj.$events){ap.$events.$val=dj.$events[e]}else{ap.$events={}}return ap}function Q(e){ac(e)}function ac(e){e.forEach(function(ap){d(ap,aL)});e.length=0}var aL=[];function b4(ap){var dk={$host:[],$outer:{},$index:0,$first:false,$last:false,$remove:avalon.noop};dk[ap]={get:function(){var dl=this.$events;var dm=dl.$index;dl.$index=dl[ap];try{return this.$host[this.$index]}finally{dl.$index=dm}},set:function(dm){try{var dl=this.$events;var dn=dl.$index;dl.$index=[];this.$host.set(this.$index,dm)}finally{dl.$index=dn}}};var e={$last:1,$first:1,$index:1};var dj=cd(dk,e);dj.$id=bz("$proxy$each");return dj}function bK(dl,dj){var ap=dj.param||"el",dm;for(var dk=0,e=aL.length;dk<e;dk++){var dq=aL[dk];if(dq&&dq.hasOwnProperty(ap)){dm=dq;aL.splice(dk,1)}}if(!dm){dm=b4(ap)}var dp=dj.$repeat;var dn=dp.length-1;dm.$index=dl;dm.$first=dl===0;dm.$last=dl===dn;dm.$host=dp;dm.$outer=dj.$outer;dm.$remove=function(){return dp.removeAt(dm.$index)};return dm}function d(dj,e){for(var ap in dj.$events){if(Array.isArray(dj.$events[ap])){dj.$events[ap].forEach(function(dk){if(typeof dk==="object"){bN(dk)}});dj.$events[ap].length=0}}dj.$host=dj.$outer={};if(e.unshift(dj)>au.maxRepeatSize){e.pop()}}aj.text=function(dk,ap){dk=dk==null?"":dk;if(ap.nodeType===3){try{ap.data=dk}catch(dj){}}else{if("textContent" in ap){ap.textContent=dk}else{ap.innerText=dk}}};function aD(dk,dj){var e="_"+dk;if(!aD[e]){var ap=cs.createElement(dk);cV.appendChild(ap);if(aN){dj=getComputedStyle(ap,null).display}else{dj=ap.currentStyle.display}cV.removeChild(ap);aD[e]=dj}return aD[e]}avalon.parseDisplay=aD;c9.visible=function(dl,ap){var dk=avalon(dl.element);var dm=dk.css("display");if(dm==="none"){var dj=dk[0].style;var e=/visibility/i.test(dj.cssText);var dn=dk.css("visibility");dj.display="";dj.visibility="hidden";dm=dk.css("display");if(dm==="none"){dm=aD(dk[0].nodeName)}dj.visibility=e?dn:""}dl.display=dm;c3(dl.value,ap,dl)};aj.visible=function(dj,e,ap){e.style.display=dj?ap.display:"none"};c9.widget=function(dp,dk){var dt=dp.value.match(bL);var dl=dp.element;var dq=dt[0];var dj=dt[1];if(!dj||dj==="$"){dj=bz(dq)}var dw=dt[2]||dq;var dm=avalon.ui[dq];if(typeof dm==="function"){dk=dl.vmodels||dk;for(var dn=0,dv;dv=dk[dn++];){if(dv.hasOwnProperty(dw)&&typeof dv[dw]==="object"){var ap=dv[dw];ap=ap.$model||ap;break}}if(ap){var dy=ap[dq+"Id"];if(typeof dy==="string"){cj("warning!不再支持"+dq+"Id");dj=dy}}var du=avalon.getWidgetData(dl,dq);dp.value=[dq,dj,dw].join(",");dp[dq+"Id"]=dj;dp.evaluator=l;dl.msData["ms-widget-id"]=dj;var dx=dp[dq+"Options"]=avalon.mix({},dm.defaults,ap||{},du);dl.removeAttribute("ms-widget");var ds=dm(dl,dp,dk)||{};if(ds.$id){avalon.vmodels[dj]=ds;U(dl,ds);try{ds.$init(function(){avalon.scan(dl,[ds].concat(dk));if(typeof dx.onInit==="function"){dx.onInit.call(dl,ds,dx,dk)}})}catch(dr){}dp.rollback=function(){try{ds.widgetElement=null;ds.$remove()}catch(dz){}dl.msData={};delete avalon.vmodels[ds.$id]};co(dp,bm);if(bZ.chrome){dl.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(aV)})}}else{avalon.scan(dl,dk)}}else{if(dk.length){dl.vmodels=dk}}};var bm=[];var z=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim;var bW=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g;var aQ=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/ig;var cL={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/ig,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/ig,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/ig};var ci=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var a5=/([^\#-~| |!])/g;function o(dl,dj,dp,dn){dl=(dl+"").replace(/[^0-9+\-Ee.]/g,"");var ap=!isFinite(+dl)?0:+dl,e=!isFinite(+dj)?3:Math.abs(dj),dr=dn||",",dk=dp||".",dq="",dm=function(du,dt){var ds=Math.pow(10,dt);return""+(Math.round(du*ds)/ds).toFixed(dt)};dq=(e?dm(ap,e):""+Math.round(ap)).split(".");if(dq[0].length>3){dq[0]=dq[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,dr)}if((dq[1]||"").length<e){dq[1]=dq[1]||"";dq[1]+=new Array(e-dq[1].length+1).join("0")}return dq.join(dk)}var bb=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(dj,ap,e){ap=ap||30;e=typeof e==="string"?e:"...";return dj.length>ap?dj.slice(0,ap-e.length)+e:String(dj)},$filter:function(dk){for(var ap=1,dm=arguments.length;ap<dm;ap++){var dl=arguments[ap];var dj=avalon.filters[dl.shift()];if(typeof dj==="function"){var e=[dk].concat(dl);dk=dj.apply(null,e)}}return dk},camelize:m,sanitize:function(e){return e.replace(z,"").replace(aQ,function(dj,ap){var dk=dj.toLowerCase().match(/<(\w+)\s/);if(dk){var dl=cL[dk[1]];if(dl){dj=dj.replace(dl,function(dp,dn,dq){var dm=dq.charAt(0);return dn+"="+dm+"javascript:void(0)"+dm})}}return dj.replace(bW," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(ci,function(dk){var dj=dk.charCodeAt(0);var ap=dk.charCodeAt(1);return"&#"+(((dj-55296)*1024)+(ap-56320)+65536)+";"}).replace(a5,function(ap){return"&#"+ap.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,ap,dj){return(ap||"\uFFE5")+o(e,isFinite(dj)?dj:2)},number:o};new function(){function dk(ds){return parseInt(ds,10)||0}function dl(dt,du,ds){var dv="";if(dt<0){dv="-";dt=-dt}dt=""+dt;while(dt.length<du){dt="0"+dt}if(ds){dt=dt.substr(dt.length-du)}return dv+dt}function dp(dt,du,dv,ds){return function(dw){var dx=dw["get"+dt]();if(dv>0||dx>-dv){dx+=dv}if(dx===0&&dv===-12){dx=12}return dl(dx,du,ds)}}function ap(dt,ds){return function(dw,du){var dx=dw["get"+dt]();var dv=(ds?("SHORT"+dt):dt).toUpperCase();return du[dv][dx]}}function dr(dt){var ds=-1*dt.getTimezoneOffset();var du=(ds>=0)?"+":"";du+=dl(Math[ds>0?"floor":"ceil"](ds/60),2)+dl(Math.abs(ds%60),2);return du}function dn(dt,ds){return dt.getHours()<12?ds.AMPMS[0]:ds.AMPMS[1]}var dm={yyyy:dp("FullYear",4),yy:dp("FullYear",2,0,true),y:dp("FullYear",1),MMMM:ap("Month"),MMM:ap("Month",true),MM:dp("Month",2,1),M:dp("Month",1,1),dd:dp("Date",2),d:dp("Date",1),HH:dp("Hours",2),H:dp("Hours",1),hh:dp("Hours",2,-12),h:dp("Hours",1,-12),mm:dp("Minutes",2),m:dp("Minutes",1),ss:dp("Seconds",2),s:dp("Seconds",1),sss:dp("Milliseconds",3),EEEE:ap("Day"),EEE:ap("Day",true),a:dn,Z:dr};var e=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/;var dj=/^\/Date\((\d+)\)\/$/;bb.date=function(dt,dB){var dF=bb.date.locate,dD="",dv=[],dA,dw;dB=dB||"mediumDate";dB=dF[dB]||dB;if(typeof dt==="string"){if(/^\d+$/.test(dt)){dt=dk(dt)}else{if(dj.test(dt)){dt=+RegExp.$1}else{var du=dt.trim();var ds=[0,0,0,0,0,0,0];var dE=new Date(0);du=du.replace(/^(\d+)\D(\d+)\D(\d+)/,function(dI,dH,dG,dK){var dJ=dK.length===4?[dK,dH,dG]:[dH,dG,dK];ds[0]=dk(dJ[0]);ds[1]=dk(dJ[1])-1;ds[2]=dk(dJ[2]);return""});var dy=dE.setFullYear;var dC=dE.setHours;du=du.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(dI,dH,dG,dK,dJ){ds[3]=dk(dH);ds[4]=dk(dG);ds[5]=dk(dK);if(dJ){ds[6]=Math.round(parseFloat("0."+dJ)*1000)}return""});var dz=0;var dx=0;du=du.replace(/Z|([+-])(\d\d):?(\d\d)/,function(dI,dG,dJ,dH){dy=dE.setUTCFullYear;dC=dE.setUTCHours;if(dG){dz=dk(dG+dJ);dx=dk(dG+dH)}return""});ds[3]-=dz;ds[4]-=dx;dy.apply(dE,ds.slice(0,3));dC.apply(dE,ds.slice(3));dt=dE}}}if(typeof dt==="number"){dt=new Date(dt)}if(avalon.type(dt)!=="date"){return}while(dB){dw=e.exec(dB);if(dw){dv=dv.concat(dw.slice(1));dB=dv.pop()}else{dv.push(dB);dB=null}}dv.forEach(function(dG){dA=dm[dG];dD+=dA?dA(dt,dF):dG.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return dD};var dq={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{"0":"周日","1":"周一","2":"周二","3":"周三","4":"周四","5":"周五","6":"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};dq.SHORTMONTH=dq.MONTH;bb.date.locate=dq};new function(){avalon.config({loader:false});var dj=[],ap=cs.readyState==="complete",dk;function e(dm){ap=1;while(dm=dj.shift()){dm()}}avalon.bind(cs,"DOMContentLoaded",dk=function(){avalon.unbind(cs,"DOMContentLoaded",dk);e()});var dl=setInterval(function(){if(document.readyState==="complete"&&document.body){clearInterval(dl);e()}},50);avalon.ready=function(dm){ap?dm(avalon):dj.push(dm)};avalon.ready(function(){avalon.scan(cs.body)})};if(typeof define==="function"&&define.amd){define("avalon",[],function(){return avalon})}var aB=bZ.avalon;avalon.noConflict=function(e){if(e&&bZ.avalon===avalon){bZ.avalon=aB}return avalon};if(aX===void 0){bZ.avalon=avalon}return avalon}));